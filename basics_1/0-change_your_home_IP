#!/usr/bin/env bash
# Configures localhost to resolve to 127.0.0.2 and facebook.com to 8.8.8.8

# Backup the original /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

# Check if localhost entry exists and update it to 127.0.0.2
if grep -q "localhost" /etc/hosts; then
    # Replace localhost line (hint: use sed to edit the file)
    sudo sed -i 's/.*localhost/127.0.0.2 localhost/' /etc/hosts
else
    # Add new localhost entry
    echo "127.0.0.2 localhost" | sudo tee -a /etc/hosts
fi

# Add or update facebook.com to resolve to 8.8.8.8
if grep -q "facebook.com" /etc/hosts; then
    sudo sed -i 's/.*facebook.com/8.8.8.8 facebook.com/' /etc/hosts
else
    # Add new facebook.com entry
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts
fi